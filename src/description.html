<!DOCTYPE html>
<html lang="sv">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Om oss</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="css/styles.css" />
    <script src="js/main.js" defer></script>
  </head>
  <body>
    <header>
      <a href="index.html" class="logo">Uppgift i kurs: DT211G</a>
      <nav class="nav-desktop">
        <ul class="header-nav">
          <li><a href="index.html">Startsida</a></li>
          <li><a href="images.html">Bilder</a></li>
          <li><a href="description.html">Process</a></li>
          <li><a href="schedule.html">Ramschema</a></li>
        </ul>
      </nav>
      <i class="fa-solid fa-bars" id="hamburger"></i>
      <nav class="nav-mobile" id="nav-mobile">
        <ul class="header-nav-mobile">
          <li><i class="fa-solid fa-xmark" id="close"></i></li>
          <li><a href="index.html">Startsida</a></li>
          <li><a href="images.html">Bilder</a></li>
          <li><a href="description.html">Process</a></li>
          <li><a href="schedule.html">Ramschema</a></li>
        </ul>
      </nav>
    </header>
    <main>
      <section class="content-container">
        <h1>Tillvägagångssätt</h1>
        <div>
          <h2>Lägga till filer</h2>
          <p>
            Jag började med att initiera NPM. Detta gav mig en
            "package.json"-fil. Därefter installerade Jag paketet "Gulp", som
            kommer med en package-lock-json-fil och en mapp vid namn
            "node_modules". Jag lade node_modules i en .gitignore-fil så att de
            inte följer med i versionshantering osv. Denna mapp kan installeras
            av användaren när som helst. Jag skapade en fil som heter
            "gulpfile.js" som kommer innehålla all kod som krävs för att
            exekvera gulp-paketen. Jag skapade även en mapp vid namn "src", som
            innehåller alla HTML, CSS, JS och bild-filer. Sedan initierade jag
            Git och gjorde min första commit.
          </p>
        </div>
        <div>
          <h3>Gulp</h3>
          <div>
            Efter att ha installerat Gulp så skapade jag variabler i gulpfile.js
            för alla nödvändiga gulp-paket. De jag har laddat ner är:
            <ul class="gulp-list">
              <li><b>Gulp-concat</b></li>
              <li class="none-li">
                Kokatinerar (slår ihop) flera filer till en. Jag har använt
                detta till funktionerna cssTask och jsTask.
              </li>
              <li class="none-li">
                Kommando: <i>npm i gulp-concat --save-dev</i>
              </li>
              <li><b>Gulp-terser</b></li>
              <li class="none-li">
                Terser minimerar och tar bort onödigt filinnehåll som
                kommenterar, radbryt osv. Jag använder denna till funktionen
                jsTask.
              </li>
              <li class="none-li">
                Kommando: <i>npm install gulp-terser --save-dev</i>
              </li>
              <li><b>Gulp-cssnano</b></li>
              <li class="none-li">
                CSS-nano kompakterar css-filer så att de tar mindre plats. Denna
                använder jag bara till funktionen cssTask.
              </li>
              <li class="none-li">
                Kommando: <i>npm install gulp-cssnano --save-dev</i>
              </li>
              <li><b>Gulp-imagemin</b></li>
              <li class="none-li">
                Gulp-imagegmin optimerar bilder så att de tar kortare tid att
                ladda upp. Denna använder jag till funktionen imageTask. Jag
                ändrade dock detta paket till en äldre version, då det nya inte
                fungerade. Det gjorde jag genom att ändra texten i
                "package.json"- filen till ""gulp-imagemin": "^7.1.0"". Därefter
                tog jag bort node_modules-filen och installerade om npm-paketet
                med kommandot "npm install". Det ändrade version på paketet och
                det fungerade efter det.
              </li>
              <li class="none-li">
                Kommando: <i>npm install --save-dev gulp-imagemin</i>
              </li>
              <li><b>Gulp-htmlmin</b></li>
              <li class="none-li">
                Minimerar HTML-filer. Denna använder jag till funktionen
                copyHTML.
              </li>
              <li class="none-li">
                Kommando: <i>npm install --save-dev gulp-htmlmin</i>
              </li>
              <li><b>Gulp-webp</b></li>
              <li class="none-li">
                Omvandlar bilder till webP. Denna använder jag till funktionen
                convertToWebP.
              </li>
              <li class="none-li">
                Kommando: <i>npm i gulp-webp --save-dev</i>
              </li>
              <li><b>Gulp-babel</b></li>
              <li class="none-li">
                Babel transpilerar JS-kod. Jag använder denna till jsTask.
              </li>
              <li class="none-li">
                Kommando:
                <i
                  >npm install --save-dev gulp-babel @babel/core
                  @babel/preset-env</i
                >
              </li>
            </ul>
            <br />
            Jag har även skapat variabler för olika funktioner från
            gulp-paketet. Dessa är:
            <ul class="gulp-list">
              <li><b>src</b></li>
              <li><b>dest</b></li>
              <li><b>parallel</b></li>
              <li><b>series</b></li>
              <li><b>watch</b></li>
            </ul>
            <br />
          </div>
          <div>
            Utöver dessa variabler som representerar olika funktioner i Gulp så
            har jag skapat ett objekt med varibaler för sökvägarna till mina
            filer. Dessa ligger i objektet "files".
            <br />
            Sedan skapade jag flera funktioner som löser olika uppgifter. Dessa
            är:
            <ul class="gulp-list">
              <li><b>copyHTML</b></li>
              <li class="none-li">
                Denna funktion tar alla filer som slutar med ".html", kör
                "htmlmin" och skickar vidare dessa till en ny mapp vid namn
                "pub. Mappen "pub" (publicering) kommer vara den mapp som körs
                när sidan läggs upp.
              </li>
              <li><b>cssTask</b></li>
              <li class="none-li">
                Tar alla filer som slutar på ".css", konkatenerar och minimerar
                dessa och skickar till mappen pub.
              </li>
              <li><b>jsTask</b></li>
              <li class="none-li">
                Tar alla filer som slutar på ".js", konkatenerar, minimerar och
                transpilerar dessa och skickar till pub.
              </li>
              <li><b>imageTask</b></li>
              <li class="none-li">
                Tar alla filer som ligger i image-mappen, optimerar dessa och
                skickar till pub.
              </li>
              <li><b>convertTowebP</b></li>
              <li class="none-li">
                Tar alla filer som slutar på "webp", konverterar dessa och
                skickar till pub.
              </li>
              <li><b>watchTask</b></li>
              <li class="none-li">
                Denna funktion övervakar filändrningar och kör automatiskt vissa
                uppgifter när ändringar upptäckts. Funktionen tar två argument:
                vilka som ska köras och vad som ska göras. I mitt fall vill jag
                att mina html, css, js och bild-filer ska köras med respektive
                funktion för dessa. Funktionerna kör jag parallellt med
                gulp-funktionen "parallel".
              </li>
            </ul>
            <br />
            Utöver dessa funktioner som utför olika uppgifter för de specifika
            filerna i mitt projekt, så har jag ytterligare två "funktioner".
            Dessa är:
            <ul class="gulp-list">
              <li><b>exports.default</b></li>
              <li class="none-li">
                Den här koden kör en serie med två uppgifter. Först kör den
                copyHTML, cssTask, jsTask, imageTask och convertToWebP. Dessa
                körs parallellt eftersom de är inbakade i funktionen "parallel".
                Sedan körs även funktionen "watchTask". Detta för att
                kontrollera i vilken ordning allting körs.
              </li>
              <li><b>exports.publish</b></li>
              <li class="none-li">
                Denna kodrad krävdes för att kunna lägga upp projektet på
                Netlify. I alternativet för "build command" skrev jag in "gulp
                publish" och i alternativet för "publish directory" skrev jag in
                "pub".
              </li>
            </ul>
          </div>
        </div>
        <div>
          <h4>Github och Netlify</h4>
          <p>
            Efter att ha initierat Git så har jag gjort regelbundna commits.
            Framförallt efter större ändrningar. Jag skapade ett repo genom att
            "Publicera till Github" ifrån extensionen "Source Control" i Visual
            Studio Code. Sedan har jag lagt upp sidan på Netlify genom att
            importera projektet från Github. Nu uppdateras sidan på Netlify
            varje gång jag pushar projektet till Github.
          </p>
        </div>
        <div>
          <h4>Ytterligare information</h4>
          <p>
            I head-elementet på HTML-sidorna har jag flera "links" till olika
            css-filer och några "scripts" till js-filer. Vill bara förtydliga
            här att jag är medveten om att de inte behövs för att sidan ska
            fungera. Jag har haft dem för att kunna använda live server under
            utvecklandet av sidan. Jag låter de vara kvar där då de faktiskt var
            en del av min utvecklingsprocess.
          </p>
        </div>
      </section>
    </main>
    <footer>
      <p>Kurs: Frontend-baserad webbutveckling</p>
      <p>&copy;Andreas Nygård, 2024</p>
    </footer>
  </body>
</html>
